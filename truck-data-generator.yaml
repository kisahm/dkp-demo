apiVersion: apps/v1
kind: Deployment
metadata:
  generation: 2
  labels:
    app: truck-data-generator
  name: truck-data-generator
spec:
  progressDeadlineSeconds: 600
  replicas: 2
  revisionHistoryLimit: 10
  selector:
    matchLabels:
      app: truck-data-generator
  strategy:
    rollingUpdate:
      maxSurge: 25%
      maxUnavailable: 25%
    type: RollingUpdate
  template:
    metadata:
      labels:
        app: truck-data-generator
    spec:
      containers:
      - image: d2iqdemo/truck-data-generator:latest
        imagePullPolicy: Always
        name: truck-data-generator
        resources: {}
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
        env:
        - name: PYTHONUNBUFFERED
          value: "1"
        - name: API
          value: "truck-data-api-svc:8080"
        - name: MODE
          value: "Random"
        - name: ROUTE # 1,2 or 3
          value: "2"
        - name: DAYTIME # Day/Night
          value: "Day"
        - name: HEATING # On=True Off=False
          value: "True"
        - name: WEATHER # Clear/Rainy/Foggy/Snowy
          value: "Rainy"
        - name: SEASON # Spring/Summer/Autumn/Winter
          value: "Summer"
        - name: SPEED # Average Speed between 60 and 100
          value: "1"
        - name: STEREO # On=True Off=False
          value: "True"
        - name: PHONE # Loading Yes=True No=False
          value: "True"
        - name: TLOAD # 0 to 100 in %
          value: "50"
        - name: COUNTRY
          value: "GER"
      dnsPolicy: ClusterFirst
      schedulerName: default-scheduler
      terminationGracePeriodSeconds: 1